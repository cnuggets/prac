var require={baseUrl:"/js/lib",paths:{app:"/app",jquery:"jquery-3.6.0",bootstrap:"bootstrap-5.1.3",underscore:"underscore-1.13.1",text:"text-2.0.16",router:"router-0.8.0",moment:"moment",async:"async",common:"jquery.prac.common",form:"jquery.prac.com.m.form",action:"jquery.prac.com.m.action",nav:"jquery.prac.com.m.nav",biz:"jquery.prac.com.m.biz"},shim:{}};function Prac(){return{config:function(e){if(e.paths)for(var r in e.paths)require.paths[r]=e.paths[r];if(e.shim)for(var r in e.shim)require.shim[r]=e.shim[r];var t=document.createElement("script");t.onload=function(){var l;l=e,require(["router","underscore","jquery","common"],function(n,t,a){function o(e,r){var t=a.localStorage.get(a.uri(),"back");t&&(t=JSON.parse(t),e.find("a[p-router='back']").attr("href",t.uri)),e.find("a[p-router]").attr("module-name",r),e.find("a[p-router]").off("click"),e.find("a[p-router]").on("click",function(e){var r=a(this);function t(){"push"==r.attr("p-router")?i(r.attr("href"),r.attr("module-name"),r.attr("title")):i(r.attr("href"),null,r.attr("title"))}e.preventDefault(),u&&u.beforeLeave?u.beforeLeave(function(e){e&&t()}):t()})}function i(e,r,t){r&&a.localStorage.put(a.uri(e),JSON.stringify({uri:a.uri(),name:r}),"back"),history.pushState({},t||"",e),n.fire("statechange")}var c,p,u;function f(r,t,n,o){var a=0;function i(){var e;a<r.length?(e=r[a++],n.splice(4,1,function(){i()}),e.apply(t,n)):o&&o()}i()}!function(){a.ajaxSetup({beforeSend:function(e){f(l.interceptor&&l.interceptor.request&&l.interceptor.request.beforeSend?l.interceptor.request.beforeSend:[],a,[e,a])},complete:function(e,r){f(l.interceptor&&l.interceptor.request&&l.interceptor.request.complete?l.interceptor.request.complete:[],a,[e,r,a])}});var r=t.template;t.template=function(){var e=r.apply(t,arguments);return function(){try{return e.apply(t,arguments)}catch(e){console.error(e),f(l.interceptor&&l.interceptor.page&&l.interceptor.page.error?l.interceptor.page.error:[],t,[e,a])}}}}(),c=a("[p-content]"),n.registerRoutes(l.routes).on("routeload",function(t,e){u&&(f(l.interceptor&&l.interceptor.page&&l.interceptor.page.leave?l.interceptor.page.leave:[],u,[u.name,a]),u.leave&&u.leave()),u=t,f(l.interceptor&&l.interceptor.page&&l.interceptor.page.enter?l.interceptor.page.enter:[],t,[t.name,location.pathname,e,a]),t.enter&&t.enter(e),p=a.pageLoading(),f(l.interceptor&&l.interceptor.page&&l.interceptor.page.before?l.interceptor.page.before:[],t,[t.name,location.pathname,e,a],function(){a("body>.content").removeAttr("style"),t.render(c,e,function(e){var r;t.init(e),(r=c).find("input[p-integer]").integer(),r.find("input[p-decimal]").decimal(),a.each(r.find("[p-form]"),function(e,r){a(r).form()}),a.each(r.find("[p-swipe]"),function(e,r){a(r).swipeCell()}),o(c,t.name),f(l.interceptor&&l.interceptor.page&&l.interceptor.page.after?l.interceptor.page.after:[],t,[t.name,location.pathname,e,a]),p.stop(),p=null})})}).on("statechange",function(){}).init(),o(a("body")),window.route=i,window.back=function(e){if(e){var r,t=a.localStorage.all("back");for(r in t){var n=JSON.parse(t[r]);if(n.name==e){i(n.uri);break}}}else{var o=a.localStorage.get(a.uri(),"back");o&&i(JSON.parse(o).uri)}},l.interceptor.init&&l.interceptor.init(a)})},t.src="/js/lib/require.js",document.head.appendChild(t)}}}var prac=new Prac;
//# sourceMappingURL=prac-m.js.map