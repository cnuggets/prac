!function(t){"function"==typeof define&&define.amd?define(["jquery","underscore","bootstrap","moment","common"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(u,v,t,n){u.fn.loading=function(t){t=u.extend(!0,{},{overlay:{disabled:!1,css:{"z-index":4}},spinner:{class:"primary"}},t=t||{});var n=u(this),s=u(v.template(`
            <% if (!cfg.overlay.disabled) { %>
                <div class="p-loading-overlay" style="<% for (var key in cfg.overlay.css) { %><%=key%>:<%=cfg.overlay.css[key]%>;<% } %>"></div>
            <% } %>
            <div class="p-loading" style="z-index: <%=cfg.overlay.css['z-index'] + 1%>;">
            <% if (cfg.overlay.disabled) { %>
                <button class="btn btn-<%=cfg.spinner.class%>" type="button" disabled>
                    <span class="spinner-border spinner-border-sm"></span>
                    <span class="visually-hidden">Loading...</span>
                </button>
            <% } else { %>
                <div class="spinner-border text-<%=cfg.spinner.class%>"></div>
            <% } %>
            </div>
        `)({cfg:t})),i=n.css("position");return"static"==i&&n.css("position","relative"),n.append(s),{stop:function(){"static"==i&&n.css("position","static"),s.remove()}}},u.fn.pullRefresh=function(s){var t=u(this);s=s||{};(s=u.extend(!0,{},{stretch:!1},s)).stretch&&u("body>.content").css("height","100%");var i,o,n=t.find(".refresh"),e=t.find(".pullable"),a=t.find(".spinner"),c=n.height(),r=270/c,l=!0,d=!1;e.bindDragMove(function(t,n){!o&&l&&(d=!0,i=n.y)},function(t,n,s){o||!l||!d||0<(n=n.y-i)&&(e.css("transform","translateY("+n+"px)"),a.css("transform","rotate("+r*n+"deg)"))},function(t,n){!o&&l&&d&&(n=n.y-i,c<=n?(o=!0,s.onLoading&&s.onLoading(function(){p()}),e.css("transform","translateY("+c+"px)"),e.css("transition","all 0.2s"),a.css("transform",""),a.css("animation","0.75s linear infinite spinner-border")):(e.css("transform","translateY(0)"),e.css("transition","all 0.2s")),d=!1)});var f=t.position().top;function p(){o=!1,e.css("transform","translateY(0)"),e.css("transition","all 0.2s"),a.css("animation","")}return u(window).scroll(function(){l=!(u(window).scrollTop()>f)}),{stopLoading:p}},u.fn.swipeCell=function(t){var i=u(this).find(".wrapper");t=u.extend(!0,{},{},t=t||{});var o,e=i.find(".left"),a=i.find(".right"),t=i.find(".content");e.css("left",-e.width()),a.css("right",-a.width());var c=0,s=!1;function n(){o=void(c=0),i.css("transform","translateX(0)"),i.css("transition","all 0.2s")}return t.bindDragMove(function(t,n){s=!0,i.css("transition","none"),o=n},function(t,n,s){2*Math.abs(n.y-o.y)>Math.abs(n.x-o.x)?o=n:(t.preventDefault(),0<(n=n.x-o.x+c)?i.css("transform","translateX("+(n>e.width()?e.width():n)+"px)"):n<0&&i.css("transform","translateX("+(n<-a.width()?-a.width():n)+"px)"))},function(t,n){s&&"BUTTON"!=t.target.nodeName&&(s=!1,n=n.x-o.x,20<Math.abs(n)?0<n?c<0?c=20-c<n?(i.css("transform","translateX("+e.width()+"px)"),i.css("transition","all 0.2s"),e.width()):(i.css("transform","translateX(0)"),i.css("transition","all 0.2s"),0):0==c&&(i.css("transform","translateX("+e.width()+"px)"),i.css("transition","all 0.2s"),c=e.width()):n<0&&(0<c?c=n<-c-20?(i.css("transform","translateX(-"+a.width()+"px)"),i.css("transition","all 0.2s"),-a.width()):(i.css("transform","translateX(0)"),0):0==c&&(i.css("transform","translateX(-"+a.width()+"px)"),i.css("transition","all 0.2s"),c=-a.width())):(i.css("transform","translateX("+c+"px)"),i.css("transition","all 0.2s")))}),i.find("button").on("click",function(){n()}),{reset:n}},u.dialog=function(t,n,o){o=o||{};o=u.extend(!0,{},{type:"alert",cancel:{class:"secondary",label:"Cancel"},confirm:{class:"danger",label:"Confirm"}},o);var e=u(v.template(`
            <div class="offcanvas-backdrop p-overlay">
                <div class="p-dialog">
                    <% if (title) { %>
                    <div class="title"><%=title%></div>
                    <% } %>
                    <div class="message"><%=message%></div>
                    <div class="footer">
                        <% if (cfg.type == "confirm") { %>
                            <div class="col">
                                <button class="btn text-<%=cfg.cancel.class%> first" cancel><%=cfg.cancel.label%></button>
                            </div>
                        <% } %>
                        <div class="col">
                            <button class="btn text-<%=cfg.confirm.class%>" confirm><%=cfg.confirm.label%></button>
                        </div>
                    </div>
                </div>
            </div>
        `)({title:t,message:n,cfg:o}));function s(n){var s=e.find("["+n+"]"),i=o[n]["on"+n.substring(0,1).toUpperCase()+n.substring(1)];s.on("click",function(t){t.stopPropagation(),s.blur(),i?o[n].async?(s.html(v.template('<span class="loading text-<%=clazz%>"></span>')({clazz:o[n].class})),i(function(){s.html(o[n].label),e.remove()})):(i(),e.remove()):e.remove()})}s("cancel"),s("confirm"),e.on("click",function(t){t.stopPropagation()}),u("body").append(e)},u.toast=function(t,n){n=n||{};n=u.extend(!0,{},{class:"primary",timeout:2e3},n);var s=u(`
            <div class="p-toaster"></div>
        `);n.height&&s.css("height",n.height),u("body").prepend(s);var i=s.outerHeight();"string"==typeof t?(s.addClass("bg-"+n.class),s.html(t)):s.append(t),s.css("transform","translateY(0)"),setTimeout(function(){s.css("transform","translateY(-"+i+"px)"),n.onComplete&&n.onComplete(),setTimeout(function(){s.remove()},200)},n.timeout)},u.fn.loadList=function(i){var t=u(this);i=i||{};i=u.extend(!0,{},{text:["loading","no more data"],topOffset:0},i);var o=u(v.template(`
            <div class="loading"><%=text%>...</div>
        `)({text:i.text[0]}));t.append(o);var e=!1;function n(){s(u(window).scrollTop(),u(window).height(),i.topOffset)}function s(t,n,s){t+n>(s=s||0)+o.position().top+o.height()/2&&(e||(e=!0,i.onLoading&&i.onLoading(function(t){t?o.text(i.text[1]):a()})))}function a(){e=!1,n()}return n(),u(window).scroll(function(t){s(u(window).scrollTop(),u(window).height(),i.topOffset)}),{stopLoading:a,reset:function(){o.text(i.text[0]+"..."),e=!1,n()}}},u.fn.lazyload=function(a){var n=u(this);a=a||{};a=u.extend(!0,{},{topOffset:0,selfScroll:!1},a);var s=n.find("img[data-src]").closest("div");function i(t,n,o){o=o||0;var e=t+n;u.each(s,function(t,n){var s=u(n).position().top,i=u(n).find("img");s+o<e&&(i.attr("src")||(i.attr("src",i.attr("data-src")),i.on("load",function(){var t=u(this).width(),n=u(this).height();t<n?u(this).attr("width",t/n*100+"%"):u(this).attr("width","100%"),a.onLoad&&a.onLoad(i)})))})}i(u(window).scrollTop(),u(window).height(),a.topOffset),a.selfScroll&&i(n.position().top,n.height()),u(window).scroll(function(t){i(u(window).scrollTop(),u(window).height(),a.topOffset)}),a.selfScroll&&n.scroll(function(t){i(n.position().top,n.height())})},u.fn.slides=function(d){var f=u(this);d=d||{};d=u.extend(!0,{},{autoplay:3e3,indicator:!0},d);var p=f.find(".wrapper"),h=p.children("div");function t(){var t=f.width();h.css("width",t),p.css("width",t*h.length)}t();var n={select:function(){}};return n=1<h.length?function(){var e,n,a,s,c=0;d.indicator&&((n=u(v.template(`
                    <div class="indicator">
                        <ul>
                            <% for (var i = 0;i < size;i ++) { %>
                            <li<% if (i == 0) { %> class="selected"<% } %>></li>
                            <% } %>
                        </ul>
                    </div>
                `)({size:h.length}))).find("li").on("click",function(t){t.stopPropagation(),i(c=u(this).index(),!0)}),f.append(n));function r(t){n&&(n.find("li").removeClass("selected"),n.find("li").eq(t).addClass("selected")),d.onChange&&d.onChange(t)}function i(t,n){r(c=(c=t)>=h.length||c<0?0:c),t=c,n=n,p.css("transform","translateX("+-t*f.width()+"px)"),n?p.css("transition","all 0.2s"):p.css("transition","none")}p.bindDragMove(function(t,n){p.css("transition","none"),e=n,a=!0,clearInterval(s)},function(t,n,s){var i,o;a&&(Math.abs(n.y-e.y)>Math.abs(n.x-e.x)?e=n:(t.preventDefault(),t=n.x-e.x,Math.abs(t)<=f.width()&&(t<0&&c==h.length-1?(i=h.eq(0),o=h.length*f.width(),i.css("transform","translateX("+o+"px)")):0<t&&0==c&&(i=h.eq(h.length-1),o=-h.length*f.width(),i.css("transform","translateX("+o+"px)")),n=-c*f.width()+t,p.css("transform","translateX("+n+"px)")),0<Math.abs(t)&&d.onSwipe&&d.onSwipe()))},function(t,n,s){var i,o;a&&(i=n.x-e.x,isNaN(i)||((.4<Math.abs(s.x)&&5<Math.abs(i)||Math.abs(i)>f.width()/2)&&(i<0?c++:c--),p.css("transform","translateX("+-c*f.width()+"px)"),p.css("transition","all 0.2s"),o=a=!1,c<0?(c=h.length-1,o=!0):c>=h.length&&(o=!(c=0)),r(c),setTimeout(function(){o&&(p.css("transform","translateX("+-c*f.width()+"px)"),p.css("transition","none")),h.css("transform",""),d.autoplay&&l(),0<Math.abs(i)&&d.onStopSwipe&&d.onStopSwipe()},200)))}),d.autoplay&&l();function l(){clearInterval(s),s=setInterval(function(){i(c=++c>=h.length?0:c,!0)},d.autoplay)}return u(window).on("resize",function(){t(),p.css("transform","translateX("+-c*f.width()+"px)"),p.css("transition","none")}),{select:i}}():n},u.imagePreview=function(n,t){t=u.extend(!0,{},{},t=t||{});var s=u(v.template(`
            <div class="p-preview">
                <div class="indicator">1 / <%=images.length%></div>
                <div class="p-slides" style="height: 100%;">
                    <div class="wrapper">
                        <% _.each(images, function(image) { %>
                        <div>
                            <img src="<%=image.path%>" />
                        </div>
                        <% }); %>
                    </div>
                </div>
            </div>
        `)({images:n}));u("body").append(s),u("body").css("overflow","hidden"),s.find("img").on("load",function(){var t,n;t=u(this),n=s.width()/s.height(),t.width()/t.height()<n?t.css("height",s.height()):t.css("width",s.width())});var i=s.children(".indicator"),o=!1,e=s.find(".p-slides").slides({autoplay:!1,onSwipe:function(){o=!0},onStopSwipe:function(){o=!1},onChange:function(t){i.text(t+1+" / "+n.length)}});return s.on("click",function(t){o||(u(this).remove(),u("body").css("overflow",""))}),s.on("touchend",function(t){o||(u(this).remove(),u("body").css("overflow",""))}),{select:function(t){e.select(t)}}},u.fn.dropdown=function(c){var r=u(this);c=c||{};c=u.extend(!0,{},{class:"danger"},c),u.each(r,function(t,n){function s(){var s=o.find(".options");s.css("width",o.width()),u.each(s,function(t,n){u(n).css("left",-(o.width()/s.length)*t)})}function e(t){t=t.find(".select");t.next("ul.options").slideUp(200),t.removeClass().addClass("select")}function i(t){(t.find(".select").next("ul.options").is(":hidden")?function(t){var n=t.find(".select");(t=n.next("ul.options")).slideDown(200),n.addClass("shown"),n.addClass("text-"+c.class);var s=n.css("color");t.find("li.option.selected").css("color",s),t.find("li.option").off("mouseover").off("mouseout"),t.find("li.option:not(.selected)").on("mouseover",function(){u(this).css("color",s)}).on("mouseout",function(){u(this).css("color","")})}:e)(t)}var o,a;o=u(n),a=o.find(".dropdown"),s(),u(window).on("resize",function(){s()}),u.each(a,function(t,n){u(n).attr("index",t)}),u.each(a.find(".options .option"),function(t,n){0==u(n).children("i.bi-check-lg").length&&u(n).append(u('<i class="bi bi-check-lg"></i>'))}),a.on("click",function(t){t.stopPropagation(),u.each(r,function(t,n){u(n).attr("index")!=o.attr("index")&&e(u(n).find(".dropdown"))});t=u(this).attr("index");e(o.find(".dropdown[index!='"+t+"']")),i(u(this))}),a.find(".option").on("click",function(t){t.stopPropagation();var n=u(this).attr("value"),s=u(this).children("span").text(),i=u(this).closest(".options"),o=i.prev(".select"),t=o.css("color");i.find(".option").removeClass("selected").removeAttr("style"),u(this).addClass("selected").css("color",t);t=o.children("span");t.attr("value",n),t.text(s),e(u(this).closest(".dropdown")),c.onChange&&c.onChange(n,parseInt(o.closest(".dropdown").attr("index")))}),u("body").on("click",function(){e(a)})}),u.each(u(".p-dropdown"),function(t,n){u(n).attr("index",t),u(n).css("z-index",r.length-t)})},u.fn.share=function(t){var n=u(this);t=t||{};function s(){n.closest(".offcanvas").offcanvas("toggle")}t=u.extend(!0,{},{},t),n.find("[p-cancel-share]").on("click",function(){s()}),n.find(".list").find(".item").on("click",function(){t.onSelect&&t.onSelect(u(this).index()),s()})}});
//# sourceMappingURL=jquery.prac.com.m.action.js.map