!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.async={})}(this,function(r){"use strict";function t(t,...e){return(...r)=>t(...e,...r)}function c(e){return function(...r){var t=r.pop();return e.call(this,r,t)}}var e="function"==typeof queueMicrotask&&queueMicrotask,n="function"==typeof setImmediate&&setImmediate,i="object"==typeof process&&"function"==typeof process.nextTick;function a(r){setTimeout(r,0)}function u(e){return(r,...t)=>e(()=>r(...t))}var v=u(e?queueMicrotask:n?setImmediate:i?process.nextTick:a);function o(n){return f(n)?function(...r){var t=r.pop();return s(n.apply(this,r),t)}:c(function(r,t){var e;try{e=n.apply(this,r)}catch(r){return t(r)}if(e&&"function"==typeof e.then)return s(e,t);t(null,e)})}function s(r,t){return r.then(r=>{l(t,null,r)},r=>{l(t,r&&r.message?r:new Error(r))})}function l(r,t,e){try{r(t,e)}catch(r){v(r=>{throw r},r)}}function f(r){return"AsyncFunction"===r[Symbol.toStringTag]}function y(r){if("function"!=typeof r)throw new Error("expected a function");return f(r)?o(r):r}function h(t,i=t.length){if(!i)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[i-1]?t.apply(this,r):new Promise((e,n)=>{r[i-1]=(r,...t)=>{if(r)return n(r);e(1<t.length?t:t[0])},t.apply(this,r)})}}function p(i){return function(t,...n){return h(function(r){var e=this;return i(t,(r,t)=>{y(r).apply(e,n.concat(t))},r)})}}function m(r,t,e,n){t=t||[];var i=[],a=0,u=y(e);return r(t,(r,t,e)=>{var n=a++;u(r,(r,t)=>{i[n]=t,e(r)})},r=>{n(r,i)})}function d(r){return r&&"number"==typeof r.length&&0<=r.length&&r.length%1==0}const g={};function b(e){function r(...r){var t;null!==e&&(t=e,e=null,t.apply(this,r))}return Object.assign(r,e),r}function S(r){if(d(r))return e=-1,n=(t=r).length,function(){return++e<n?{value:t[e],key:e}:null};var t,e,n,i,a,u,o,c,s,l,i=(i=r)[Symbol.iterator]&&i[Symbol.iterator]();return i?(s=i,l=-1,function(){var r=s.next();return r.done?null:(l++,{value:r.value,key:l})}):(u=(a=r)?Object.keys(a):[],o=-1,c=u.length,function r(){var t=u[++o];return"__proto__"===t?r():o<c?{value:a[t],key:t}:null})}function w(e){return function(...r){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,r)}}function k(r,t,e,n){let i=!1,a=!1,u=!1,o=0,c=0;function s(){o>=t||u||i||(u=!0,r.next().then(({value:r,done:t})=>{if(!a&&!i){if(u=!1,t)return i=!0,void(o<=0&&n(null));o++,e(r,c,l),c++,s()}}).catch(f))}function l(r,t){if(--o,!a)return r?f(r):!1===r?(i=!0,void(a=!0)):t===g||i&&o<=0?(i=!0,n(null)):void s()}function f(r){a||(u=!1,i=!0,n(r))}s()}var E=l=>(r,t,e)=>{if(e=b(e),l<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!r)return e(null);if("AsyncGenerator"===r[Symbol.toStringTag])return k(r,l,t,e);if("function"==typeof r[Symbol.asyncIterator])return k(r[Symbol.asyncIterator](),l,t,e);var n=S(r),i=!1,a=!1,u=0,o=!1;function c(r,t){if(!a)if(--u,r)i=!0,e(r);else if(!1===r)a=i=!0;else{if(t===g||i&&u<=0)return i=!0,e(null);o||s()}}function s(){for(o=!0;u<l&&!i;){var r=n();if(null===r)return i=!0,void(u<=0&&e(null));u+=1,t(r.value,r.key,w(c))}o=!1}s()};var L=h(function(r,t,e,n){return E(t)(r,y(e),n)},4);function A(r,t,e){e=b(e);var n=0,i=0,a=r["length"],u=!1;function o(r,t){!0!==(u=!1===r?!0:u)&&(r?e(r):++i!==a&&t!==g||e(null))}for(0===a&&e(null);n<a;n++)t(r[n],n,w(o))}function x(r,t,e){return L(r,1/0,t,e)}var O=h(function(r,t,e){return(d(r)?A:x)(r,y(t),e)},3);var j=h(function(r,t,e){return m(O,r,t,e)},3),_=p(j);var I=h(function(r,t,e){return L(r,1,t,e)},3);var T=h(function(r,t,e){return m(I,r,t,e)},3),B=p(T);const M=Symbol("promiseCallback");function F(){let e,n;function r(r,...t){if(r)return n(r);e(1<t.length?t:t[0])}return r[M]=new Promise((r,t)=>{e=r,n=t}),r}function C(a,r,i){"number"!=typeof r&&(i=r,r=null),i=b(i||F());var e=Object.keys(a).length;if(!e)return i(null);r=r||e;var u={},o=0,c=!1,s=!1,l=Object.create(null),n=[],f=[],h={};function p(r,t){n.push(()=>function(n,r){var t,e;s||(t=w((r,...t)=>{var e;o--,!1!==r?(t.length<2&&([t]=t),r?(e={},Object.keys(u).forEach(r=>{e[r]=u[r]}),e[n]=t,s=!0,l=Object.create(null),c||i(r,e)):(u[n]=t,(l[n]||[]).forEach(r=>r()),v())):c=!0}),o++,e=y(r[r.length-1]),1<r.length?e(u,t):e(t))}(r,t))}function v(){if(!c){if(0===n.length&&0===o)return i(null,u);for(;n.length&&o<r;)n.shift()()}}return Object.keys(a).forEach(t=>{var e=a[t];if(!Array.isArray(e))return p(t,[e]),void f.push(t);var n=e.slice(0,e.length-1),i=n.length;if(0===i)return p(t,e),void f.push(t);h[t]=i,n.forEach(r=>{if(!a[r])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+r+"` in "+n.join(", "));!function(r,t){var e=l[r];e=e||(l[r]=[]);e.push(t)}(r,()=>{0===--i&&p(t,e)})})}),function(){var r,t=0;for(;f.length;)r=f.pop(),t++,function(e){var n=[];return Object.keys(a).forEach(r=>{const t=a[r];Array.isArray(t)&&0<=t.indexOf(e)&&n.push(r)}),n}(r).forEach(r=>{0==--h[r]&&f.push(r)});if(t!==e)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),v(),i[M]}var q=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,z=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,P=/,/,D=/(=.+)?(\s*)$/;function V(r){const t=function(r){let t="",e=0,n=r.indexOf("*/");for(;e<r.length;){var i,a;"/"===r[e]&&"/"===r[e+1]?(i=r.indexOf("\n",e),e=-1===i?r.length:i):-1!==n&&"/"===r[e]&&"*"===r[e+1]&&-1!==(a=r.indexOf("*/",e))?(e=a+2,n=r.indexOf("*/",e)):(t+=r[e],e++)}return t}(r.toString());let e=t.match(q);if(e=e||t.match(z),!e)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=e;return n.replace(/\s/g,"").split(P).map(r=>r.replace(D,"").trim())}function R(u,r){var o={};return Object.keys(u).forEach(r=>{var n,i=u[r],t=f(i),e=!t&&1===i.length||t&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),o[r]=n.concat(0<n.length?a:i);else if(e)o[r]=i;else{if(n=V(i),0===i.length&&!t&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");t||n.pop(),o[r]=n.concat(a)}function a(t,r){var e=n.map(r=>t[r]);e.push(r),y(i)(...e)}}),C(o,r)}class U{constructor(){this.head=this.tail=null,this.length=0}removeLink(r){return r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev,r.prev=r.next=null,--this.length,r}empty(){for(;this.head;)this.shift();return this}insertAfter(r,t){t.prev=r,t.next=r.next,r.next?r.next.prev=t:this.tail=t,r.next=t,this.length+=1}insertBefore(r,t){t.prev=r.prev,(t.next=r).prev?r.prev.next=t:this.head=t,r.prev=t,this.length+=1}unshift(r){this.head?this.insertBefore(this.head,r):Q(this,r)}push(r){this.tail?this.insertAfter(this.tail,r):Q(this,r)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var r=this.head;r;)yield r.data,r=r.next}remove(r){for(var t=this.head;t;){var e=t["next"];r(t)&&this.removeLink(t),t=e}return this}}function Q(r,t){r.length=1,r.head=r.tail=t}function N(r,t,e){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var u=y(r),o=0,c=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(r,t){return r?t?void(a[r]=a[r].filter(r=>r!==t)):a[r]=[]:Object.keys(a).forEach(r=>a[r]=[])}function l(r,...t){a[r].forEach(r=>r(...t))}var f=!1;function n(r,t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,a;function u(r,...t){return r?e?a(r):i():t.length<=1?i(t[0]):void i(t)}p.started=!0;r={data:r,callback:!e&&n||u};if(t?p._tasks.unshift(r):p._tasks.push(r),f||(f=!0,v(()=>{f=!1,p.process()})),e||!n)return new Promise((r,t)=>{i=r,a=t})}function i(r){return 0===r.length&&p.idle()&&(v(()=>l("drain")),1)}var r=i=>r=>{if(!r)return new Promise((e,n)=>{!function(t,e){const n=(...r)=>{s(t,n),e(...r)};a[t].push(n)}(i,(r,t)=>r?n(r):void e(t))});var t;s(i),t=i,r=r,a[t].push(r)},h=!1,p={_tasks:new U,*[Symbol.iterator](){yield*p._tasks[Symbol.iterator]()},concurrency:t,payload:e,buffer:t/4,started:!1,paused:!1,push(r,t){return Array.isArray(r)?i(r)?void 0:r.map(r=>n(r,!1,!1,t)):n(r,!1,!1,t)},pushAsync(r,t){return Array.isArray(r)?i(r)?void 0:r.map(r=>n(r,!1,!0,t)):n(r,!1,!0,t)},kill(){s(),p._tasks.empty()},unshift(r,t){return Array.isArray(r)?i(r)?void 0:r.map(r=>n(r,!0,!1,t)):n(r,!0,!1,t)},unshiftAsync(r,t){return Array.isArray(r)?i(r)?void 0:r.map(r=>n(r,!0,!0,t)):n(r,!0,!0,t)},remove(r){p._tasks.remove(r)},process(){if(!h){for(h=!0;!p.paused&&o<p.concurrency&&p._tasks.length;){var r=[],t=[],e=p._tasks.length;p.payload&&(e=Math.min(e,p.payload));for(var n=0;n<e;n++){var i=p._tasks.shift();r.push(i),c.push(i),t.push(i.data)}o+=1,0===p._tasks.length&&l("empty"),o===p.concurrency&&l("saturated");var a=w(function(u){return function(r,...t){--o;for(var e=0,n=u.length;e<n;e++){var i=u[e],a=c.indexOf(i);0===a?c.shift():0<a&&c.splice(a,1),i.callback(r,...t),null!=r&&l("error",r,i.data)}o<=p.concurrency-p.buffer&&l("unsaturated"),p.idle()&&l("drain"),p.process()}}(r));u(t,a)}h=!1}},length(){return p._tasks.length},running(){return o},workersList(){return c},idle(){return p._tasks.length+o===0},pause(){p.paused=!0},resume(){!1!==p.paused&&(p.paused=!1,v(p.process))}};return Object.defineProperties(p,{saturated:{writable:!1,value:r("saturated")},unsaturated:{writable:!1,value:r("unsaturated")},empty:{writable:!1,value:r("empty")},drain:{writable:!1,value:r("drain")},error:{writable:!1,value:r("error")}}),p}function G(r,t){return N(r,1,t)}function W(r,t,e){return N(r,t,e)}var $=h(function(r,n,t,e){e=b(e);var i=y(t);return I(r,(r,t,e)=>{i(n,r,(r,t)=>{n=t,e(r)})},r=>e(r,n))},4);function H(...r){var t=r.map(y);return function(...r){var n=this,e=r[r.length-1];return"function"==typeof e?r.pop():e=F(),$(t,r,(r,t,e)=>{t.apply(n,r.concat((r,...t)=>{e(r,t)}))},(r,t)=>e(r,...t)),e[M]}}function J(...r){return H(...r.reverse())}var K=h(function(r,t,e,n){return m(E(t),r,e,n)},4);var X=h(function(r,t,e,i){var n=y(e);return K(r,t,(r,e)=>{n(r,(r,...t)=>r?e(r):e(r,t))},(r,t)=>{for(var e=[],n=0;n<t.length;n++)t[n]&&(e=e.concat(...t[n]));return i(r,e)})},4);var Y=h(function(r,t,e){return X(r,1/0,t,e)},3);var Z=h(function(r,t,e){return X(r,1,t,e)},3);function rr(...t){return function(...r){return r.pop()(null,...t)}}function tr(o,c){return(r,t,e,n)=>{var i,a=!1;const u=y(e);r(t,(e,r,n)=>{u(e,(r,t)=>r||!1===r?n(r):o(t)&&!i?(i=c(a=!0,e),n(null,g)):void n())},r=>r?n(r):void n(null,a?i:c(!1)))}}var er=h(function(r,t,e){return tr(r=>r,(r,t)=>t)(O,r,t,e)},3);var nr=h(function(r,t,e,n){return tr(r=>r,(r,t)=>t)(E(t),r,e,n)},4);var ir=h(function(r,t,e){return tr(r=>r,(r,t)=>t)(E(1),r,t,e)},3);function ar(e){return(r,...t)=>y(r)(...t,(r,...t)=>{"object"==typeof console&&(r?console.error&&console.error(r):console[e]&&t.forEach(r=>console[e](r)))})}var ur=ar("dir");var or=h(function(r,t,e){e=w(e);var n,i=y(r),a=y(t);function u(r,...t){if(r)return e(r);!1!==r&&a(...n=t,o)}function o(r,t){return r?e(r):!1!==r?t?void i(u):e(null,...n):void 0}return o(null,!0)},3);function cr(r,t,e){const n=y(t);return or(r,(...r)=>{const e=r.pop();n(...r,(r,t)=>e(r,!t))},e)}function sr(n){return(r,t,e)=>n(r,e)}var lr=h(function(r,t,e){return O(r,sr(y(t)),e)},3);var fr=h(function(r,t,e,n){return E(t)(r,sr(y(e)),n)},4);var hr=h(function(r,t,e){return fr(r,1,t,e)},3);function pr(n){return f(n)?n:function(...r){var t=r.pop(),e=!0;r.push((...r)=>{e?v(()=>t(...r)):t(...r)}),n.apply(this,r),e=!1}}var vr=h(function(r,t,e){return tr(r=>!r,r=>!r)(O,r,t,e)},3);var yr=h(function(r,t,e,n){return tr(r=>!r,r=>!r)(E(t),r,e,n)},4);var mr=h(function(r,t,e){return tr(r=>!r,r=>!r)(I,r,t,e)},3);function dr(r,n,t,i){var a=new Array(n.length);r(n,(r,e,n)=>{t(r,(r,t)=>{a[e]=!!t,n(r)})},r=>{if(r)return i(r);for(var t=[],e=0;e<n.length;e++)a[e]&&t.push(n[e]);i(null,t)})}function gr(r,t,a,e){var u=[];r(t,(e,n,i)=>{a(e,(r,t)=>r?i(r):(t&&u.push({index:n,value:e}),void i(r)))},r=>r?e(r):void e(null,u.sort((r,t)=>r.index-t.index).map(r=>r.value)))}function br(r,t,e,n){return(d(t)?dr:gr)(r,t,y(e),n)}var Sr=h(function(r,t,e){return br(O,r,t,e)},3);var wr=h(function(r,t,e,n){return br(E(t),r,e,n)},4);var kr=h(function(r,t,e){return br(I,r,t,e)},3);var Er=h(function(r,t){var e=w(t),n=y(pr(r));return function r(t){if(t)return e(t);!1!==t&&n(r)}()},2);var Lr=h(function(r,t,e,o){var i=y(e);return K(r,t,(e,n)=>{i(e,(r,t)=>r?n(r):n(r,{key:t,val:e}))},(r,t)=>{for(var e,n,i={},a=Object.prototype["hasOwnProperty"],u=0;u<t.length;u++)t[u]&&(e=t[u]["key"],n=t[u]["val"],a.call(i,e)?i[e].push(n):i[e]=[n]);return o(r,i)})},4);function Ar(r,t,e){return Lr(r,1/0,t,e)}function xr(r,t,e){return Lr(r,1,t,e)}var Or=ar("log");var jr=h(function(r,t,e,n){n=b(n);var i={},a=y(e);return E(t)(r,(r,e,n)=>{a(r,e,(r,t)=>r?n(r):(i[e]=t,void n(r)))},r=>n(r,i))},4);function _r(r,t,e){return jr(r,1/0,t,e)}function Ir(r,t,e){return jr(r,1,t,e)}function Tr(r,e=r=>r){var u=Object.create(null),o=Object.create(null),n=y(r),t=c((r,t)=>{var a=e(...r);a in u?v(()=>t(null,...u[a])):a in o?o[a].push(t):(o[a]=[t],n(...r,(r,...t)=>{r||(u[a]=t);var e=o[a];delete o[a];for(var n=0,i=e.length;n<i;n++)e[n](r,...t)}))});return t.memo=u,t.unmemoized=r,t}var Br=u(i?process.nextTick:n?setImmediate:a),Mr=h((r,t,e)=>{var i=d(t)?[]:{};r(t,(r,e,n)=>{y(r)((r,...t)=>{t.length<2&&([t]=t),i[e]=t,n(r)})},r=>e(r,i))},3);function Fr(r,t){return Mr(O,r,t)}function Cr(r,t,e){return Mr(E(t),r,e)}function qr(r,t){var e=y(r);return N((r,t)=>{e(r[0],t)},t,1)}class zr{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(r){let t;for(;0<r&&Dr(this.heap[r],this.heap[t=Pr(r)]);){var e=this.heap[r];this.heap[r]=this.heap[t],this.heap[t]=e,r=t}}percDown(r){let t;for(;(t=1+(r<<1))<this.heap.length&&(t+1<this.heap.length&&Dr(this.heap[t+1],this.heap[t])&&(t+=1),!Dr(this.heap[r],this.heap[t]));){var e=this.heap[r];this.heap[r]=this.heap[t],this.heap[t]=e,r=t}}push(r){r.pushCount=++this.pushCount,this.heap.push(r),this.percUp(this.heap.length-1)}unshift(r){return this.heap.push(r)}shift(){var[r]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),r}toArray(){return[...this]}*[Symbol.iterator](){for(let r=0;r<this.heap.length;r++)yield this.heap[r].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let r=Pr(this.heap.length-1);0<=r;r--)this.percDown(r);return this}}function Pr(r){return(r+1>>1)-1}function Dr(r,t){return r.priority!==t.priority?r.priority<t.priority:r.pushCount<t.pushCount}function Vr(r,t){var u=qr(r,t),o=!1;return u._tasks=new zr,u.push=function(r,t=0,e=()=>{}){if("function"!=typeof e)throw new Error("task callback must be a function");if(u.started=!0,0===(r=!Array.isArray(r)?[r]:r).length&&u.idle())return v(()=>u.drain());for(var n=0,i=r.length;n<i;n++){var a={data:r[n],priority:t,callback:e};u._tasks.push(a)}o||(o=!0,v(()=>{o=!1,u.process()}))},delete u.unshift,u}var Rr=h(function(r,t){if(t=b(t),!Array.isArray(r))return t(new TypeError("First argument to race must be an array of functions"));if(!r.length)return t();for(var e=0,n=r.length;e<n;e++)y(r[e])(t)},2);function Ur(r,t,e,n){r=[...r].reverse();return $(r,t,e,n)}function Qr(r){var t=y(r);return c(function(r,n){return r.push((r,...t)=>{let e={};r&&(e.error=r),0<t.length&&((r=t).length<=1&&([r]=t),e.value=r),n(null,e)}),t.apply(this,r)})}function Nr(t){var e;return Array.isArray(t)?e=t.map(Qr):(e={},Object.keys(t).forEach(r=>{e[r]=Qr.call(this,t[r])})),e}function Gr(r,t,e,n){const i=y(e);return br(r,t,(r,e)=>{i(r,(r,t)=>{e(r,!t)})},n)}var Wr=h(function(r,t,e){return Gr(O,r,t,e)},3);var $r=h(function(r,t,e,n){return Gr(E(t),r,e,n)},4);var Hr=h(function(r,t,e){return Gr(I,r,t,e)},3);function Jr(r){return function(){return r}}const Kr=5,Xr=0;function Yr(r,t,n){var i={times:Kr,intervalFunc:Jr(Xr)};if(arguments.length<3&&"function"==typeof r?(n=t||F(),t=r):(function(r,t){if("object"==typeof t)r.times=+t.times||Kr,r.intervalFunc="function"==typeof t.interval?t.interval:Jr(+t.interval||Xr),r.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");r.times=+t||Kr}}(i,r),n=n||F()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=y(t),u=1;return function e(){a((r,...t)=>{!1!==r&&(r&&u++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(r))?setTimeout(e,i.intervalFunc(u-1)):n(r,...t))})}(),n[M]}function Zr(n,r){r||(r=n,n=null);let i=n&&n.arity||r.length;f(r)&&(i+=1);var a=y(r);return c((t,r)=>{function e(r){a(...t,r)}return(t.length<i-1||null==r)&&(t.push(r),r=F()),n?Yr(n,e,r):Yr(e,r),r[M]})}function rt(r,t){return Mr(I,r,t)}var tt=h(function(r,t,e){return tr(Boolean,r=>r)(O,r,t,e)},3);var et=h(function(r,t,e,n){return tr(Boolean,r=>r)(E(t),r,e,n)},4);var nt=h(function(r,t,e){return tr(Boolean,r=>r)(I,r,t,e)},3);var it=h(function(r,t,e){var i=y(t);return j(r,(e,n)=>{i(e,(r,t)=>r?n(r):void n(r,{value:e,criteria:t}))},(r,t)=>r?e(r):void e(null,t.sort(n).map(r=>r.value)));function n(r,t){r=r.criteria,t=t.criteria;return r<t?-1:t<r?1:0}},3);function at(i,a,u){var o=y(i);return c((r,t)=>{var e,n=!1;r.push((...r)=>{n||(t(...r),clearTimeout(e))}),e=setTimeout(function(){var r=i.name||"anonymous";(r=new Error('Callback function "'+r+'" timed out.')).code="ETIMEDOUT",u&&(r.info=u),n=!0,t(r)},a),o(...r)})}function ut(r,t,e,n){e=y(e);return K(function(r){for(var t=Array(r);r--;)t[r]=r;return t}(r),t,e,n)}function ot(r,t,e){return ut(r,1/0,t,e)}function ct(r,t,e){return ut(r,1,t,e)}function st(r,n,t,e){arguments.length<=3&&"function"==typeof n&&(e=t,t=n,n=Array.isArray(r)?[]:{}),e=b(e||F());var i=y(t);return O(r,(r,t,e)=>{i(n,r,t,e)},r=>e(r,n)),e[M]}e=h(function(r,t){var n,i=null;return hr(r,(r,e)=>{y(r)((r,...t)=>!1===r?e(r):(t.length<2?[n]=t:n=t,void e((i=r)?null:{})))},()=>t(i,n))});function lt(t){return(...r)=>(t.unmemoized||t)(...r)}var ft=h(function(r,t,e){e=w(e);var n=y(t),i=y(r),a=[];function u(r,...t){if(r)return e(r);a=t,!1!==r&&i(o)}function o(r,t){return r?e(r):!1!==r?t?void n(u):e(null,...a):void 0}return i(o)},3);function ht(r,t,e){const n=y(r);return ft(e=>n((r,t)=>e(r,!t)),t,e)}i=h(function(e,n){if(n=b(n),!Array.isArray(e))return n(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return n();var i=0;function a(r){y(e[i++])(...r,w(t))}function t(r,...t){if(!1!==r)return r||i===e.length?n(r,...t):void a(t)}a([])}),n={apply:t,applyEach:_,applyEachSeries:B,asyncify:o,auto:C,autoInject:R,cargo:G,cargoQueue:W,compose:J,concat:Y,concatLimit:X,concatSeries:Z,constant:rr,detect:er,detectLimit:nr,detectSeries:ir,dir:ur,doUntil:cr,doWhilst:or,each:lr,eachLimit:fr,eachOf:O,eachOfLimit:L,eachOfSeries:I,eachSeries:hr,ensureAsync:pr,every:vr,everyLimit:yr,everySeries:mr,filter:Sr,filterLimit:wr,filterSeries:kr,forever:Er,groupBy:Ar,groupByLimit:Lr,groupBySeries:xr,log:Or,map:j,mapLimit:K,mapSeries:T,mapValues:_r,mapValuesLimit:jr,mapValuesSeries:Ir,memoize:Tr,nextTick:Br,parallel:Fr,parallelLimit:Cr,priorityQueue:Vr,queue:qr,race:Rr,reduce:$,reduceRight:Ur,reflect:Qr,reflectAll:Nr,reject:Wr,rejectLimit:$r,rejectSeries:Hr,retry:Yr,retryable:Zr,seq:H,series:rt,setImmediate:v,some:tt,someLimit:et,someSeries:nt,sortBy:it,timeout:at,times:ot,timesLimit:ut,timesSeries:ct,transform:st,tryEach:e,unmemoize:lt,until:ht,waterfall:i,whilst:ft,all:vr,allLimit:yr,allSeries:mr,any:tt,anyLimit:et,anySeries:nt,find:er,findLimit:nr,findSeries:ir,flatMap:Y,flatMapLimit:X,flatMapSeries:Z,forEach:lr,forEachSeries:hr,forEachLimit:fr,forEachOf:O,forEachOfSeries:I,forEachOfLimit:L,inject:$,foldl:$,foldr:Ur,select:Sr,selectLimit:wr,selectSeries:kr,wrapSync:o,during:ft,doDuring:or};r.default=n,r.apply=t,r.applyEach=_,r.applyEachSeries=B,r.asyncify=o,r.auto=C,r.autoInject=R,r.cargo=G,r.cargoQueue=W,r.compose=J,r.concat=Y,r.concatLimit=X,r.concatSeries=Z,r.constant=rr,r.detect=er,r.detectLimit=nr,r.detectSeries=ir,r.dir=ur,r.doUntil=cr,r.doWhilst=or,r.each=lr,r.eachLimit=fr,r.eachOf=O,r.eachOfLimit=L,r.eachOfSeries=I,r.eachSeries=hr,r.ensureAsync=pr,r.every=vr,r.everyLimit=yr,r.everySeries=mr,r.filter=Sr,r.filterLimit=wr,r.filterSeries=kr,r.forever=Er,r.groupBy=Ar,r.groupByLimit=Lr,r.groupBySeries=xr,r.log=Or,r.map=j,r.mapLimit=K,r.mapSeries=T,r.mapValues=_r,r.mapValuesLimit=jr,r.mapValuesSeries=Ir,r.memoize=Tr,r.nextTick=Br,r.parallel=Fr,r.parallelLimit=Cr,r.priorityQueue=Vr,r.queue=qr,r.race=Rr,r.reduce=$,r.reduceRight=Ur,r.reflect=Qr,r.reflectAll=Nr,r.reject=Wr,r.rejectLimit=$r,r.rejectSeries=Hr,r.retry=Yr,r.retryable=Zr,r.seq=H,r.series=rt,r.setImmediate=v,r.some=tt,r.someLimit=et,r.someSeries=nt,r.sortBy=it,r.timeout=at,r.times=ot,r.timesLimit=ut,r.timesSeries=ct,r.transform=st,r.tryEach=e,r.unmemoize=lt,r.until=ht,r.waterfall=i,r.whilst=ft,r.all=vr,r.allLimit=yr,r.allSeries=mr,r.any=tt,r.anyLimit=et,r.anySeries=nt,r.find=er,r.findLimit=nr,r.findSeries=ir,r.flatMap=Y,r.flatMapLimit=X,r.flatMapSeries=Z,r.forEach=lr,r.forEachSeries=hr,r.forEachLimit=fr,r.forEachOf=O,r.forEachOfSeries=I,r.forEachOfLimit=L,r.inject=$,r.foldl=$,r.foldr=Ur,r.select=Sr,r.selectLimit=wr,r.selectSeries=kr,r.wrapSync=o,r.during=ft,r.doDuring=or,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=async.js.map