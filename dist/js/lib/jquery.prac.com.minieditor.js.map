{"version":3,"file":"jquery.prac.com.minieditor.js","sources":["../../../js/lib/jquery.prac.com.minieditor.js"],"names":["factory","define","amd","exports","require","jQuery","_","turndown","$","fn","minieditor","options","self","this","lang","en","zh","langOpt","extend","title","headings","normal","h1","h2","h3","h4","h5","tools","erase","heading","bold","italic","ol","ul","extensions","editor","template","opt","html","append","selection","body","find","turndownService","TurndownService","_hideDropdown","removeClass","_dropdown","off","on","shown","hasClass","addClass","closest","e","stopPropagation","_hasStyle","style","range","getRangeAt","clonedSelection","cloneContents","span","document","createElement","appendChild","selected","commonAncestorContainer","parent","nodeType","Node","TEXT_NODE","parentElement","styledChildren","children","length","remove","text","trim","_tagName","elem","prop","toLowerCase","_styled","Object","keys","deleteFromDocument","nodes","contents","hasTextNode","each","i","node","nodeValue","allHaveStyle","list","lis","createRange","selectNode","removeAllRanges","addRange","sub","insertNode","setStartAfter","forEach","h","li","get","last","_done","indexOf","_tidy","clazz","attr","before","classList","add","_bindExtension","ctx","value","name","onSelect","item","e1","e2","window","getSelection","_styleSelected","extension","extTpl","data","markdown","setHTML","resetExtensions","ext"],"mappings":"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"}